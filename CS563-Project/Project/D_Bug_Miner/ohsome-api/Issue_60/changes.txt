Issue #60: allowing pipe sign in GET requests
URL: https://github.com/GIScience/ohsome-api/pull/60

Commit ID: f6d0f59afc124531b224e3db352cfab60c94da7e

Commit Message: allowing pipe sign in GET requests

adding of TomcatConfig class which defines the pipe sign as a valid property
needed due to recent security changes in Tomcat
fixes #59

Files Changed (1):
File: src/main/java/org/heigit/ohsome/ohsomeapi/config/TomcatConfig.java ======================
    - Additions: 25
    - Deletions: 0
=======================================================

    +++Added (new line 1): package org.heigit.ohsome.ohsomeapi.config;
    +++Added (new line 2): 
    +++Added (new line 3): import org.apache.catalina.connector.Connector;
    +++Added (new line 4): import org.springframework.boot.web.embedded.tomcat.TomcatConnectorCustomizer;
    +++Added (new line 5): import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;
    +++Added (new line 6): import org.springframework.boot.web.servlet.server.ConfigurableServletWebServerFactory;
    +++Added (new line 7): import org.springframework.context.annotation.Bean;
    +++Added (new line 8): import org.springframework.context.annotation.Configuration;
    +++Added (new line 9): 
    +++Added (new line 10): /** Used to allow the not encoded pipe sign (|) in request URLs. */
    +++Added (new line 11): @Configuration
    +++Added (new line 12): public class TomcatConfig {
    +++Added (new line 13):   
    +++Added (new line 14):   @Bean
    +++Added (new line 15):   public ConfigurableServletWebServerFactory webServerFactory() {
    +++Added (new line 16):       TomcatServletWebServerFactory factory = new TomcatServletWebServerFactory();
    +++Added (new line 17):       factory.addConnectorCustomizers(new TomcatConnectorCustomizer() {
    +++Added (new line 18):           @Override
    +++Added (new line 19):           public void customize(Connector connector) {
    +++Added (new line 20):               connector.setProperty("relaxedQueryChars", "|");
    +++Added (new line 21):           }
    +++Added (new line 22):       });
    +++Added (new line 23):       return factory;
    +++Added (new line 24):   }
    +++Added (new line 25): }

