Issue #173: fix: enable container scanning of distroless container
URL: https://github.com/corona-warn-app/cwa-verification-server/pull/173

Commit ID: e2d94c8195670469ab932ee25c54d65e1885910e

Commit Message: feat: enable container scanning of distroless container

Files Changed (2):
File: Dockerfile ======================
    - Additions: 3
    - Deletions: 0
=======================================================

    +++Added (new line 3): COPY scripts/Dpkg.java Dpkg.java
    +++Added (new line 4): RUN ["java", "Dpkg.java"]
    +++Added (new line 5): USER 65534:65534

File: scripts/Dpkg.java ======================
    - Additions: 21
    - Deletions: 0
=======================================================

    +++Added (new line 1): import java.io.*;
    +++Added (new line 2): 
    +++Added (new line 3): class Dpkg {
    +++Added (new line 4):   public static void main(String[] args) throws IOException {
    +++Added (new line 5):     File dir = new File("/var/lib/dpkg/status.d/");
    +++Added (new line 6):     PrintWriter pw = new PrintWriter("/var/lib/dpkg/status");
    +++Added (new line 7):     String[] fileNames = dir.list();
    +++Added (new line 8):     for (String fileName : fileNames) {
    +++Added (new line 9):       System.out.println("Handling file: " + fileName);
    +++Added (new line 10):       File f = new File(dir, fileName);
    +++Added (new line 11):       BufferedReader br = new BufferedReader(new FileReader(f));
    +++Added (new line 12):       String line = br.readLine();
    +++Added (new line 13):       while (line != null) {
    +++Added (new line 14):         pw.println(line);
    +++Added (new line 15):         line = br.readLine();
    +++Added (new line 16):       }
    +++Added (new line 17):       pw.println();
    +++Added (new line 18):       pw.flush();
    +++Added (new line 19):     }
    +++Added (new line 20):   }
    +++Added (new line 21): }

