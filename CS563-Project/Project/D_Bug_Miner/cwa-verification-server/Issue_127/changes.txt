Issue #127: fix: Teletan will be verified if it is expired
URL: https://github.com/corona-warn-app/cwa-verification-server/pull/127

Commit ID: 843ba1abc55eb0a1a75ed3b2896fde4bb09fe46c

Commit Message: fix: introduce canBeRedeemed()

Files Changed (1):
File: src/main/java/app/coronawarn/verification/service/TanService.java ======================
    - Additions: 3
    - Deletions: 8
=======================================================

    ---Removed (old line 116):       if (teleTanEntity.isPresent() && !teleTanEntity.get().isRedeemed()) {
    ---Removed (old line 117):         if (teleTanEntity.get().getValidUntil().isBefore(LocalDateTime.now())) {
    ---Removed (old line 118):           log.warn("The teleTAN is already expired.");
    ---Removed (old line 119):           return verified;
    ---Removed (old line 120):         } else {
    ---Removed (old line 121):           verified = true;
    ---Removed (old line 122):         }
    +++Added (new line 116):       if (teleTanEntity.isPresent() && teleTanEntity.get().canBeRedeemed(LocalDateTime.now())) {
    +++Added (new line 117):         verified = true;
    ---Removed (old line 124):         log.warn("The teleTAN is unknown or already redeemed.");
    +++Added (new line 119):         log.warn("The teleTAN is unknown, expired or already redeemed.");

